<VirtualHost *:80>
	ServerAdmin irehwinkel@skelearn.de
	DocumentRoot /var/www/html
    Alias /res/ /var/www/img/

    <Directory "/var/www/img">
        AllowOverride All
        Require all granted
    </Directory>

    <Directory "/var/www/html">
        AllowOverride All
        Require all granted

        RewriteEngine On
        RewriteBase /
        RewriteRule ^index\.html$ - [L]
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteCond %{REQUEST_FILENAME} !-l
        RewriteCond %{REQUEST_FILENAME} !"^/api/v1"
        RewriteRule . /index.html [L]
    </Directory>

    ProxyPass "/api/v1" "http://backend:8080/api/v1"
    ProxyPassReverse "/api/v1" "http://backend:8080/api/v1"
</VirtualHost>